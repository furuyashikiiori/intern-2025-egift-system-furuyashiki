<%
  carousel_images = [
    { image: "key-visual-1.png", alt: "Hero Image 1" },
    { image: "key-visual-2.png", alt: "Hero Image 2" }
  ]
%>

<section class="ab-mb-16">
  <div id="carousel" class="ab-overflow-hidden ab-rounded-md ab-w-full">
    <div class="carousel-track ab-flex" style="transform: translateX(0%)">
      <% carousel_images.each do |img| %>
        <div class="ab-min-w-full">
          <%= image_tag img[:image], alt: img[:alt], class: "ab-w-full" %>
        </div>
      <% end %>
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const track = document.querySelector("#carousel .carousel-track");
    const slides = Array.from(track.children);
    let currentIndex = 0;

    function updateCarousel() {
      track.style.transform = `translateX(-${currentIndex * 100}%)`;
    }

    // 自動再生（5秒ごとに切り替え）
    setInterval(() => {
      currentIndex = (currentIndex + 1) % slides.length;
      updateCarousel();
    }, 5000);
  });
</script>
