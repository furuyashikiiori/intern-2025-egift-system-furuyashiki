<% content_for :page_title, "商品詳細" %>
<% content_for :page_actions do %>
  <%= link_to "編集", edit_admins_item_path(@item), class: "btn btn-primary me-2" %>
  <%= link_to "削除", admins_item_path(@item), 
      data: { turbo_method: :delete, turbo_confirm: "本当に削除しますか？" }, 
      class: "btn btn-danger" %>
<% end %>

<div class="card">
    <div class="card-body">
      <h2 class="card-title"><%= @item.name %></h2>

      <% if @item.image.attached? %>
        <div class="my-3 text-center">
          <%= image_tag @item.image.variant(resize_to_limit: [600, 600]), class: "img-fluid img-thumbnail" %>
        </div>
      <% end %>
      
      <dl class="row">
        <dt class="col-sm-3">価格</dt>
        <dd class="col-sm-9"><%= format_price(@item.price) %></dd>
        
        <dt class="col-sm-3">公開状態</dt>
        <dd class="col-sm-9">
          <% if @item.published? %>
            <span class="badge bg-success">公開</span>
          <% else %>
            <span class="badge bg-secondary">非公開</span>
          <% end %>
        </dd>
        
        <dt class="col-sm-3">商品説明</dt>
        <dd class="col-sm-9">
          <% if @item.description.present? %>
            <%= simple_format(@item.description) %>
          <% end %>
        </dd>
        
        <dt class="col-sm-3">作成日時</dt>
        <dd class="col-sm-9"><%= @item.created_at.strftime("%Y年%m月%d日 %H:%M") %></dd>
        
        <dt class="col-sm-3">最終更新日時</dt>
        <dd class="col-sm-9"><%= @item.updated_at.strftime("%Y年%m月%d日 %H:%M") %></dd>
      </dl>
    </div>
  </div>

  <div class="mt-3 mb-3">
    <%= link_to "一覧に戻る", admins_items_path, class: "btn btn-secondary" %>
  </div>
